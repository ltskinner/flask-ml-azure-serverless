# flask-ml-azure-serverless

All credit goes to [https://github.com/noahgift/flask-ml-azure-serverless](https://github.com/noahgift/flask-ml-azure-serverless)

## Env

```bash
python -m venv ~/.flask-ml-azure
source ~/.flask-ml-azure/bin/activate
```

## Usage

Terminal A - run app:

`python app.py`

Terminal B - run predict:

`./make_predict.sh`

## Azure

- Launch `Azure Shell`
- Clone repo
- Create env and source
- Prepare env
  - `make setup`
  - `make source`
  - `make install`
- Create app service for initial deployment
  - `az webapp up -n APP_SERVICE_NAME`
  - note, apps must be globally unique, leave blank for autogenerated:
    - `az webapp up`
    - created: `icy-ground-1f4fc1b4733e40198b434dcfafeb4846`
    - at: [https://icy-ground-1f4fc1b4733e40198b434dcfafeb4846.azurewebsites.net/](https://icy-ground-1f4fc1b4733e40198b434dcfafeb4846.azurewebsites.net/)
- Update make_predict_azure.sh to include new url
- Create an Azure DevOps Project
  - [https://learn.microsoft.com/en-us/azure/devops/pipelines/ecosystems/python-webapp?view=azure-devops](https://learn.microsoft.com/en-us/azure/devops/pipelines/ecosystems/python-webapp?view=azure-devops)

